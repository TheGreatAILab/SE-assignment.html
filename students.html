<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>随机点名</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    button {
      font-size: 2rem;
      padding: 1rem 2rem;
    }
    #result {
      font-size: 2rem;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <button onclick="startRolling()">
    点名
  </button>
  <p id="result"></p>
  <script>
    const students = ["22319091",
"22360300",
"22368031",
"22361058",
"22361063",
"22348229",
"22336113",
"22345020",
"22346095",
"23354177",
"23355032",
"23366094",
"23336284",
"23336272",
"23364037",
"23308060",
"23336299",
"23336320",
"23331029",
"23336336",
"23331059",
"23336194",
"23336232",
"23336247",
"23336249",
"23336250",
"23336251",
"23336252",
"23336253",
"23336254",
"23336255",
"23336259",
"23336260",
"23336261",
"23336262",
"23336265",
"23336267",
"23336266",
"徐上",
"23336269",
"23336270",
"23336271",
"23336274",
"23336275",
"23336276",
"杨立新",
"23336281",
"23336279",
"23336278",
"23336282",
"23336285",
"23336286",
"23336287",
"23336288",
"23336290",
"23336289",
"23336291",
"23336293",
"23331170",
"23336294",
"23336296",
"23336297",
"23336298",
"23336300",
"23336302",
"23336301",
"23336304",
"23336305",
"23336306",
"23336307",
"23336309",
"23336310",
"23336311",
"23336312",
"23336314",
"23336313",
"23336315",
"23336316",
"23336318",
"23336317",
"23336324",
"23336326",
"23336327",
"23336335",
"23336328",
"23336329",
"23336331",
"23336332",
"23336333",
"23336334",
"23336339",
"23336338",
"23336341",
"23336342",
"23336345",
"23336346",
"23336348",
"23336350",
"23336352",
"23336353",
"23336356",
"23336017",
"23336016",
"23336015",
"23336018",
"23336019",
"23336020",
"23336028",
"23336032",
"23336033",
"23336042",
"23336044",
"陈思谋",
"23336063",
"23336076",
"23336084",
"23336080",
"23336089",
"23336119",
"23336135",
"23336132",
"23336145",
"23336165",
"23336170",
"23336178",
"23320048"];

    function startRolling() {
      const resultElement = document.getElementById('result');
      const btn = document.querySelector("button");
      
      // 禁用按钮防止重复点击
      btn.disabled = true;

      // 设置初始滚动的参数
      let iteration = 0;
      let delay = 50; // 初始延时（毫秒）
      const totalIterations = 20;  // 滚动次数
      const slowdownFactor = 1.15; // 减速因子

      // 定义递归滚动函数
      function roll() {
        iteration++;

        if (iteration < totalIterations) {
          // 每次随机显示一个学生姓名
          resultElement.innerText = students[Math.floor(Math.random() * students.length)];
          // 计算下次更新延时时间
          delay = delay * slowdownFactor;
          // 调用下一次滚动
          setTimeout(roll, delay);
        } else {
          // 最后一次显示预先选定的最终姓名
          resultElement.innerText = students[Math.floor(Math.random() * students.length)];
          // 恢复按钮状态，允许再次点击
          btn.disabled = false;
        }
      }
      
      roll();
    }
    
    // 页面加载完成后自动开始滚动
    window.onload = function() {
        // setTimeout(startRolling, 500)  // 延迟500毫秒后开始滚动
        startRolling();
      }
  </script>
</body>
</html>
