<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>随机点名</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    button {
      font-size: 2rem;
      padding: 1rem 2rem;
    }
    #result {
      font-size: 2rem;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <button onclick="pickRandom()">点名</button>
  <p id="result"></p>
  <script>
    const students = ["谢慧豪",
"肖金洋",
"廖嘉辉",
"李锐钊",
"罗斯",
"沈嘉乐",
"李佳音",
"丁烁芝",
"王宥森",
"严浩文",
"赖鼎昭",
"23366094",
"刘盛邦",
"黄润轩",
"许梓烁",
"杨鑫",
"詹伟翔",
"章豪斌",
"钟晨晖",
"丁奕轩",
"黄梓城",
"彭志泓",
"王阳明",
"吴承徽",
"吴佳霖",
"吴乐超",
"吴睿",
"吴深荣",
"吴玟欣",
"吴晓恒",
"吴修远",
"肖睿",
"肖添",
"谢家和",
"谢润文",
"熊昊翔",
"熊彦钧",
"徐观炼",
"徐上",
"徐子欣",
"许才明",
"许君兰",
"闫麟昊",
"阳文轩",
"杨凯",
"杨立新",
"杨铭昊",
"杨培凯",
"杨希凯",
"杨晓乐",
"杨正宇",
"姚书璟",
"姚宇翔",
"叶崇杰",
"游璐玮",
"于远洋",
"余俊翰",
"余鑫",
"张苇航",
"元朗曦",
"袁舜骐",
"岳峻宇",
"詹佳烨",
"张博然",
"张浩宇",
"张皓昱",
"张景翔",
"张洛瑜",
"张人心",
"张若璇",
"张文坚",
"张文翔",
"张相钊",
"张晔",
"张逸",
"张颖琳",
"张宇然",
"张玉瑶",
"张誉方",
"张越",
"赵施琦",
"郑达维",
"郑浩翔",
"郑皓",
"郑晋凯",
"郑思扬",
"郑晓丰",
"郑鑫宇",
"郑芸熙",
"职雨欣",
"钟泓瑨",
"钟俊喆",
"钟思玥",
"钟旺烜",
"周海铭",
"周宏杰",
"周嘉尉",
"周逸",
"周雨桐",
"周梓枫",
"邹书承",
"吴永聪",
"肖淇",
"徐泓昊",
"薛炜鹏",
"张周骁",
"周子健",
"常淇博",
"陈畅",
"陈大有",
"陈龙",
"陈仁培",
"陈思谋",
"段玉飞",
"古康杰",
"郭延庚",
"何晓文",
"胡泉",
"李延泽",
"廖雪欣",
"林翠敏",
"林昀熠",
"龙宇海",
"卢晓玲",
"吕振宁",
"郭靖宇"];

    let remainingStudents = [...students]; // 创建副本
    let isRolling = false; // 动画状态标志，防止重复点击
    
    function pickRandom() {
      if (isRolling) return;
      // 禁用按钮，设置动画状态标志为true
      const btn = document.querySelector('button'); //获取页面第一个按钮元素
      btn.disabled = true;
      isRolling = true;
      
      // 清空结果
      document.getElementById('result').innerText = ""; 
      /*getElementById()：通过ID获取HTML元素；innerText：操作元素的文本内容*/
      
      // 模拟滚动效果
      let counter = 0; // 记录动画帧数
      // 每100ms进行回调（10帧/秒）
      const rollInterval = setInterval(() => { //定时重复执行
        // 单帧动画：抽取随机名字，更新显示内容，计数器加一
        const tempName = students[Math.floor(Math.random() * students.length)];
        /*Math.random()：生成0-1之间的随机数
        Math.floor()：向下取整，确保是有效索引
        */
        document.getElementById('result').innerText = tempName;
        counter++;
        
        if (counter > 15) {
          clearInterval(rollInterval);//停止计时器
          
          // 名字重复检查
          if (remainingStudents.length === 0) {
            remainingStudents = [...students];
            document.getElementById('result').innerText += " (名单已重置)";
          }
          // 从名单随机抽取并移除
          //array.splice(起始索引, 删除数量)：修改原数组并返回被删元素
          const picked = remainingStudents.splice(
            Math.floor(Math.random() * remainingStudents.length), 1
          )[0];

          //显示最终名字，恢复按钮状态，恢复动画状态
          document.getElementById('result').innerText = picked;
          btn.disabled = false;
          isRolling = false;
        }
      }, 100);
    }
  </script>
</body>
</html>
